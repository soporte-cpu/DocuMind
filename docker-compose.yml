version: '3.8'

services:
  documind:
    build: .
    container_name: documind-enterprise
    ports:
      - "8000:8000"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
    volumes:
      # Persistencia de documentos subidos
      - ./docs:/app/docs
      # Persistencia de los índices de la IA (Vectores)
      - ./embeddings:/app/embeddings
      # Persistencia de transcripciones de audio/video
      - ./transcripts:/app/transcripts
      # Persistencia de la Base de Datos SQLite (Historial y Configuración)
      - ./data:/app/data
    restart: always

networks:
  default:
    name: documind-network
